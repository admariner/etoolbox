(this["webpackJsonpweb-toolbox"]=this["webpackJsonpweb-toolbox"]||[]).push([[34],{1151:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(201),i=a(0),l=a.n(i),c=a(414),o=a.n(c),s=a(471),u=a.n(s),m=a(898),d=a.n(m),g=a(1170),f=a(401),p=a(452),v=a(450),b=a(341),E=a(90),h=a(451),x=a(1171),y=a(331),j=a(326),w=a(514),C=a(132),O=a(355),k=a(352),I=a(467),N=a(133),D=a(51),R=a(17),S=a(29),W=a(878);function F(){return(F=Object(S.a)(Object(R.a)().mark((function e(t,a,n,r){var i,l;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(W.createWorker)({logger:n}),e.next=3,i.load();case 3:return e.next=5,i.loadLanguage(t);case 5:return e.next=7,i.initialize(t);case 7:return e.next=9,i.recognize(a);case 9:return l=e.sent,r(l.data.text),e.next=13,i.terminate();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=a(319),L={marginTop:10,display:"flex",alignItems:"center",justifyContent:"center",border:"solid 1px blue"},A=Object(T.a)((function(e){return{root:{margin:e.spacing(1)},form:{marginTop:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},image:{width:"100%"},imageSelector:{margin:e.spacing(2),textAlign:"center"},toolbar:{margin:0,padding:0,"& > *":{marginLeft:e.spacing(1)}},formatted:{padding:e.spacing(1),border:"1px solid grey",wordWrap:"break-word",height:116}}})),M={workerId:"",jobId:"",status:"",progress:0};t.default=function(){var e="Image OCR (text extraction)",t=A(),a=Object(D.e)("md"),i=Object(N.c)().setToasterState,c=l.a.useState("eng"),s=Object(n.a)(c,2),m=s[0],R=s[1],S=l.a.useState(M),W=Object(n.a)(S,2),T=W[0],P=W[1],z=l.a.useState(""),B=Object(n.a)(z,2),H=B[0],J=B[1],U=l.a.useState(""),_=Object(n.a)(U,2),G=_[0],V=_[1];function q(e){P(e),V("Processing the image\n\t \u2192 ".concat(e.status,"\u2026"))}function K(e){!function(e,t){if(e)for(var a=0;a<e.length;a++){var n=e[a];if(n.type.startsWith("image")){var r=new FileReader;r.onload=t,r.readAsDataURL(n.getAsFile());break}}}((e.clipboardData||e.originalEvent.clipboardData||e.originalEvent.clipboard).items,(function(e){var t;return J(null===(t=e.target)||void 0===t?void 0:t.result)}))}return l.a.useEffect((function(){return document.onpaste=K,function(){document.removeEventListener("onpaste",K)}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{title:e}),l.a.createElement("div",{className:t.root},l.a.createElement(k.a,{iconType:d.a,title:e}),l.a.createElement("form",{noValidate:!0,autoComplete:"off",className:t.form},l.a.createElement(g.a,{className:t.formControl},l.a.createElement(f.a,{select:!0,label:"Image language",id:"language",style:{width:160},value:m,autoFocus:a,onChange:function(e){return R(e.target.value)}},l.a.createElement(p.a,{value:"eng"},"English"),l.a.createElement(p.a,{value:"fra"},"French")))),l.a.createElement(v.a,null,l.a.createElement(b.a,{display:"flex",alignItems:"center",justifyContent:"center",className:t.imageSelector},!H&&l.a.createElement("div",null,l.a.createElement(E.a,null,"paste image from clipboard"),l.a.createElement(E.a,null,"or select a file"),l.a.createElement("input",{type:"file",color:"primary",accept:"image/*",onChange:function(e){var t;return function(e){if(e){var t=new FileReader;t.onload=function(e){var t;return J(null===(t=e.target)||void 0===t?void 0:t.result)},t.readAsDataURL(e)}}(null===(t=e.target.files)||void 0===t?void 0:t[0])},id:"icon-button-file",style:{display:"none"}}),l.a.createElement("label",{htmlFor:"icon-button-file"},l.a.createElement(j.a,{variant:"contained",component:"span",color:"primary"},l.a.createElement(u.a,null)))),H&&l.a.createElement(w.a,{style:L,defaultSize:{width:300,height:"100%"}},l.a.createElement("img",{src:H,alt:"Clipboard content",className:t.image}))),H&&l.a.createElement(b.a,{display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(j.a,{endIcon:l.a.createElement(o.a,null),variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),P(M),J(""),V("")}},"Clear")),l.a.createElement(h.a,null,l.a.createElement(I.a,{active:G.startsWith("Processing")},l.a.createElement(f.a,{label:"Extracted text",fullWidth:!0,value:G,margin:"normal",variant:"outlined",multiline:!0,minRows:"8"})),l.a.createElement(x.a,{variant:"determinate",value:100*T.progress}),l.a.createElement(y.a,{className:t.toolbar},l.a.createElement(b.a,{display:"flex",flexGrow:1}),l.a.createElement(O.a,{data:G,sx:{mr:1}}),l.a.createElement(j.a,{variant:"contained",title:"Run optical caracters recognition process to extract text",color:"primary",onClick:function(e){if(e.preventDefault(),H){V("Processing the image, please wait\u2026");var t=r.Buffer.from(H.split(",")[1],"base64");(function(e,t,a,n){return F.apply(this,arguments)})(m,t,q,V).then()}else i({open:!0,message:"There is no image to process",type:"error",autoHideDuration:2e3})},disabled:!H,endIcon:l.a.createElement(d.a,null)},"Run"))))))}},352:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(90),l=a(319),c=Object(l.a)((function(e){return{title:{wordBreak:"break-word"},titleWithIcon:{display:"flex",alignItems:"center"},titleContainer:{display:"flex",justifyContent:"center"},icon:{height:"40px",width:"40px",marginRight:e.spacing(1)}}}));t.a=function(e){var t=e.title,a=e.iconType,n=c();return r.a.createElement("div",{className:n.titleContainer},r.a.createElement("div",{className:n.titleWithIcon},r.a.createElement(a,{className:n.icon}),r.a.createElement(i.a,{variant:"h5",className:n.title},t)))}},355:function(e,t,a){"use strict";var n=a(363),r=a(0),i=a.n(r),l=a(368),c=a.n(l),o=a(326),s=a(361),u=a.n(s),m=a(133),d=["data","isDisabled","hoverMessage","feedbackMessage","Icon"];t.a=function(e){var t=e.data,a=e.isDisabled,r=e.hoverMessage,l=e.feedbackMessage,s=e.Icon,g=void 0===s?c.a:s,f=Object(n.a)(e,d),p=Object(m.c)().setToasterState;return i.a.createElement(o.a,Object.assign({},f,{onClick:function(){if(t){var e=null!==l&&void 0!==l?l:"Content copied into clipboard: ".concat(t.substring(0,25)," \u2026");u.a(t,{format:"text/plain"}),p({open:!0,message:e,type:"success",autoHideDuration:2e3})}},disabled:!t||a,title:null!==r&&void 0!==r?r:"Copy to clipboard",variant:"contained",color:"primary"}),i.a.createElement(g,null))}},467:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(0),r=a.n(n),i=a(319),l=a(148),c=a.n(l),o=a(149),s=a.n(o),u=Object(i.a)((function(){return{root:{"& .spinner_overlay":{background:"rgba(0, 0, 0, 0.3)"}}}})),m=function(e){var t=u();return r.a.createElement(c.a,{classNamePrefix:"spinner_",className:t.root,active:e.active,spinner:r.a.createElement(s.a,{color:"#bf3a2b"})},e.children)}}}]);
//# sourceMappingURL=34.3ae38d4a.chunk.js.map