(this["webpackJsonpweb-toolbox"]=this["webpackJsonpweb-toolbox"]||[]).push([[34],{1170:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(207),i=a(0),c=a.n(i),s=a(423),o=a.n(s),l=a(481),d=a.n(l),u=a(917),j=a.n(u),b=a(1189),g=a(410),f=a(462),p=a(460),m=a(349),x=a(96),h=a(461),v=a(1190),O=a(340),y=a(334),w=a(524),C=a(139),k=a(363),I=a(360),N=a(477),D=a(140),R=a(57),S=a(17),W=a(31),F=a(892);function T(){return(T=Object(W.a)(Object(S.a)().mark((function e(t,a,n,r){var i,c;return Object(S.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(F.createWorker)({logger:n}),e.next=3,i.load();case 3:return e.next=5,i.loadLanguage(t);case 5:return e.next=7,i.initialize(t);case 7:return e.next=9,i.recognize(a);case 9:return c=e.sent,r(c.data.text),e.next=13,i.terminate();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a(327),L={marginTop:10,display:"flex",alignItems:"center",justifyContent:"center",border:"solid 1px blue"},A=Object(E.a)((function(e){return{root:{margin:e.spacing(1)},form:{marginTop:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},image:{width:"100%"},imageSelector:{margin:e.spacing(2),textAlign:"center"},toolbar:{margin:0,padding:0,"& > *":{marginLeft:e.spacing(1)}},formatted:{padding:e.spacing(1),border:"1px solid grey",wordWrap:"break-word",height:116}}})),M=a(1),P={workerId:"",jobId:"",status:"",progress:0};t.default=function(){var e="Image OCR (text extraction)",t=A(),a=Object(R.e)("md"),i=Object(D.c)().setToasterState,s=c.a.useState("eng"),l=Object(n.a)(s,2),u=l[0],S=l[1],W=c.a.useState(P),F=Object(n.a)(W,2),E=F[0],z=F[1],B=c.a.useState(""),H=Object(n.a)(B,2),J=H[0],U=H[1],_=c.a.useState(""),G=Object(n.a)(_,2),V=G[0],q=G[1];function K(e){z(e),q("Processing the image\n\t \u2192 ".concat(e.status,"\u2026"))}function Q(e){!function(e,t){if(e)for(var a=0;a<e.length;a++){var n=e[a];if(n.type.startsWith("image")){var r=new FileReader;r.onload=t,r.readAsDataURL(n.getAsFile());break}}}((e.clipboardData||e.originalEvent.clipboardData||e.originalEvent.clipboard).items,(function(e){var t;return U(null===(t=e.target)||void 0===t?void 0:t.result)}))}return c.a.useEffect((function(){return document.onpaste=Q,function(){document.removeEventListener("onpaste",Q)}}),[]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(C.a,{title:e}),Object(M.jsxs)("div",{className:t.root,children:[Object(M.jsx)(I.a,{iconType:j.a,title:e}),Object(M.jsx)("form",{noValidate:!0,autoComplete:"off",className:t.form,children:Object(M.jsx)(b.a,{className:t.formControl,children:Object(M.jsxs)(g.a,{select:!0,label:"Image language",id:"language",style:{width:160},value:u,autoFocus:a,onChange:function(e){return S(e.target.value)},children:[Object(M.jsx)(f.a,{value:"eng",children:"English"}),Object(M.jsx)(f.a,{value:"fra",children:"French"})]})})}),Object(M.jsxs)(p.a,{children:[Object(M.jsxs)(m.a,{display:"flex",alignItems:"center",justifyContent:"center",className:t.imageSelector,children:[!J&&Object(M.jsxs)("div",{children:[Object(M.jsx)(x.a,{children:"paste image from clipboard"}),Object(M.jsx)(x.a,{children:"or select a file"}),Object(M.jsx)("input",{type:"file",color:"primary",accept:"image/*",onChange:function(e){var t;return function(e){if(e){var t=new FileReader;t.onload=function(e){var t;return U(null===(t=e.target)||void 0===t?void 0:t.result)},t.readAsDataURL(e)}}(null===(t=e.target.files)||void 0===t?void 0:t[0])},id:"icon-button-file",style:{display:"none"}}),Object(M.jsx)("label",{htmlFor:"icon-button-file",children:Object(M.jsx)(y.a,{variant:"contained",component:"span",color:"primary",children:Object(M.jsx)(d.a,{})})})]}),J&&Object(M.jsx)(w.a,{style:L,defaultSize:{width:300,height:"100%"},children:Object(M.jsx)("img",{src:J,alt:"Clipboard content",className:t.image})})]}),J&&Object(M.jsx)(m.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(M.jsx)(y.a,{endIcon:Object(M.jsx)(o.a,{}),variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),z(P),U(""),q("")},children:"Clear"})}),Object(M.jsxs)(h.a,{children:[Object(M.jsx)(N.a,{active:V.startsWith("Processing"),children:Object(M.jsx)(g.a,{label:"Extracted text",fullWidth:!0,value:V,margin:"normal",variant:"outlined",multiline:!0,minRows:"8"})}),Object(M.jsx)(v.a,{variant:"determinate",value:100*E.progress}),Object(M.jsxs)(O.a,{className:t.toolbar,children:[Object(M.jsx)(m.a,{display:"flex",flexGrow:1}),Object(M.jsx)(k.a,{data:V,sx:{mr:1}}),Object(M.jsx)(y.a,{variant:"contained",title:"Run optical caracters recognition process to extract text",color:"primary",onClick:function(e){if(e.preventDefault(),J){q("Processing the image, please wait\u2026");var t=r.Buffer.from(J.split(",")[1],"base64");(function(e,t,a,n){return T.apply(this,arguments)})(u,t,K,q).then()}else i({open:!0,message:"There is no image to process",type:"error",autoHideDuration:2e3})},disabled:!J,endIcon:Object(M.jsx)(j.a,{}),children:"Run"})]})]})]})]})]})}},360:function(e,t,a){"use strict";a(0);var n=a(96),r=a(327),i=a(1),c=Object(r.a)((function(e){return{title:{wordBreak:"break-word"},titleWithIcon:{display:"flex",alignItems:"center"},titleContainer:{display:"flex",justifyContent:"center"},icon:{height:"40px",width:"40px",marginRight:e.spacing(1)}}}));t.a=function(e){var t=e.title,a=e.iconType,r=c();return Object(i.jsx)("div",{className:r.titleContainer,children:Object(i.jsxs)("div",{className:r.titleWithIcon,children:[Object(i.jsx)(a,{className:r.icon}),Object(i.jsx)(n.a,{variant:"h5",className:r.title,children:t})]})})}},363:function(e,t,a){"use strict";var n=a(28),r=a(371),i=(a(0),a(376)),c=a.n(i),s=a(334),o=a(369),l=a.n(o),d=a(140),u=a(1),j=["data","isDisabled","hoverMessage","feedbackMessage","Icon"];t.a=function(e){var t=e.data,a=e.isDisabled,i=e.hoverMessage,o=e.feedbackMessage,b=e.Icon,g=void 0===b?c.a:b,f=Object(r.a)(e,j),p=Object(d.c)().setToasterState;return Object(u.jsx)(s.a,Object(n.a)(Object(n.a)({},f),{},{onClick:function(){if(t){var e=null!==o&&void 0!==o?o:"Content copied into clipboard: ".concat(t.substring(0,25)," \u2026");l.a(t,{format:"text/plain"}),p({open:!0,message:e,type:"success",autoHideDuration:2e3})}},disabled:!t||a,title:null!==i&&void 0!==i?i:"Copy to clipboard",variant:"contained",color:"primary",children:Object(u.jsx)(g,{})}))}},477:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(0);var n=a(327),r=a(154),i=a.n(r),c=a(155),s=a.n(c),o=a(1),l=Object(n.a)((function(){return{root:{"& .spinner_overlay":{background:"rgba(0, 0, 0, 0.3)"}}}})),d=function(e){var t=l();return Object(o.jsx)(i.a,{classNamePrefix:"spinner_",className:t.root,active:e.active,spinner:Object(o.jsx)(s.a,{color:"#bf3a2b"}),children:e.children})}}}]);
//# sourceMappingURL=34.416b943e.chunk.js.map